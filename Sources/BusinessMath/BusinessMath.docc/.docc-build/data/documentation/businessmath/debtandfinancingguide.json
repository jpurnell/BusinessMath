{"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"url":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","interfaceLanguage":"swift"},"seeAlsoSections":[{"anchor":"Tutorials","identifiers":["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LeaseAccountingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"],"title":"Tutorials","generated":true}],"hierarchy":{"paths":[["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath"]]},"abstract":[{"text":"Learn how to model debt instruments, capital structure, equity financing, covenants, and lease accounting.","type":"text"}],"metadata":{"roleHeading":"Article","title":"Debt & Financing Models","role":"article"},"kind":"article","primaryContentSections":[{"content":[{"text":"Overview","anchor":"Overview","level":2,"type":"heading"},{"inlineContent":[{"text":"BusinessMath provides comprehensive tools for modeling corporate finance decisions across debt and equity. This tutorial shows you how to:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Create amortization schedules for loans and bonds","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Calculate optimal capital structure and WACC"}]}]},{"content":[{"inlineContent":[{"text":"Model equity financing rounds and dilution","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Monitor debt covenant compliance"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Analyze lease vs buy decisions"}]}]}],"type":"unorderedList"},{"text":"Content","anchor":"Content","level":2,"type":"heading"},{"text":"Debt Instruments & Amortization","anchor":"Debt-Instruments--Amortization","level":2,"type":"heading"},{"text":"Basic Loan Amortization","anchor":"Basic-Loan-Amortization","level":3,"type":"heading"},{"inlineContent":[{"text":"Create a simple mortgage with level payments:","type":"text"}],"type":"paragraph"},{"code":["import BusinessMath","","\/\/ 30-year mortgage: $300,000 at 4.5%","let mortgage = DebtInstrument(","    principal: 300_000.0,","    interestRate: 0.045,","    startDate: Date(),","    maturityDate: Calendar.current.date(byAdding: .year, value: 30, to: Date())!,","    paymentFrequency: .monthly,","    amortizationType: .levelPayment",")","","let schedule = mortgage.schedule()","","\/\/ First payment breakdown","let firstPeriod = schedule.periods.first!","print(\"Monthly Payment: $\\(schedule.payment[firstPeriod]!)\")        \/\/ $1,520.06","print(\"Interest: $\\(schedule.interest[firstPeriod]!)\")              \/\/ $1,125.00","print(\"Principal: $\\(schedule.principal[firstPeriod]!)\")            \/\/ $395.06","","\/\/ Total interest over life of loan","print(\"Total Interest: $\\(schedule.totalInterest)\")                  \/\/ $247,220"],"syntax":"swift","type":"codeListing"},{"text":"Amortization Types","anchor":"Amortization-Types","level":3,"type":"heading"},{"inlineContent":[{"text":"BusinessMath supports four amortization patterns:","type":"text"}],"type":"paragraph"},{"text":"Level Payment (Constant Total Payment)","anchor":"Level-Payment-Constant-Total-Payment","level":4,"type":"heading"},{"inlineContent":[{"text":"Most common for mortgages and consumer loans. Total payment stays constant while principal portion increases over time:","type":"text"}],"type":"paragraph"},{"code":["let levelPayment = DebtInstrument(","    principal: 100_000.0,","    interestRate: 0.06,","    startDate: Date(),","    maturityDate: Calendar.current.date(byAdding: .year, value: 5, to: Date())!,","    paymentFrequency: .monthly,","    amortizationType: .levelPayment",")","","let schedule = levelPayment.schedule()","","\/\/ Payment is constant every period","for period in schedule.periods.prefix(3) {","    print(\"Payment: $\\(schedule.payment[period]!)\")  \/\/ Always ~$1,933.28","}"],"syntax":"swift","type":"codeListing"},{"text":"Straight Line (Equal Principal Payments)","anchor":"Straight-Line-Equal-Principal-Payments","type":"heading","level":4},{"inlineContent":[{"type":"text","text":"Principal payment is constant, interest declines, so total payment declines:"}],"type":"paragraph"},{"code":["let straightLine = DebtInstrument(","    principal: 60_000.0,","    interestRate: 0.08,","    startDate: Date(),","    maturityDate: Calendar.current.date(byAdding: .year, value: 3, to: Date())!,","    paymentFrequency: .quarterly,","    amortizationType: .straightLine",")","","let schedule = straightLine.schedule()","","\/\/ Principal payment is constant, total payment declines","for period in schedule.periods.prefix(3) {","    print(\"Principal: $\\(schedule.principal[period]!)\")  \/\/ Always $5,000","    print(\"Total Payment: $\\(schedule.payment[period]!)\") \/\/ Declines each quarter","}"],"syntax":"swift","type":"codeListing"},{"text":"Bullet Payment (Interest-Only with Principal at Maturity)","anchor":"Bullet-Payment-Interest-Only-with-Principal-at-Maturity","type":"heading","level":4},{"inlineContent":[{"text":"Common for bonds and some commercial loans:","type":"text"}],"type":"paragraph"},{"code":["let bulletLoan = DebtInstrument(","    principal: 500_000.0,","    interestRate: 0.055,","    startDate: Date(),","    maturityDate: Calendar.current.date(byAdding: .year, value: 5, to: Date())!,","    paymentFrequency: .semiAnnual,","    amortizationType: .bulletPayment",")","","let schedule = bulletLoan.schedule()","","\/\/ All periods except last have zero principal payment","for period in schedule.periods.dropLast() {","    print(\"Principal Payment: $\\(schedule.principal[period]!)\")  \/\/ $0","    print(\"Interest Payment: $\\(schedule.interest[period]!)\")    \/\/ $13,750","}","","\/\/ Last period includes full principal","let lastPeriod = schedule.periods.last!","print(\"Final Payment: $\\(schedule.payment[lastPeriod]!)\")  \/\/ $513,750"],"syntax":"swift","type":"codeListing"},{"text":"Custom Payment Schedule","anchor":"Custom-Payment-Schedule","type":"heading","level":4},{"inlineContent":[{"type":"text","text":"For structured payments or irregular schedules:"}],"type":"paragraph"},{"code":["let customPayments = [15_000.0, 20_000.0, 25_000.0, 30_000.0, 40_000.0]","","let customLoan = DebtInstrument(","    principal: 120_000.0,","    interestRate: 0.07,","    startDate: Date(),","    maturityDate: Calendar.current.date(byAdding: .year, value: 5, to: Date())!,","    paymentFrequency: .annual,","    amortizationType: .custom(schedule: customPayments)",")"],"syntax":"swift","type":"codeListing"},{"text":"Effective Annual Rate","anchor":"Effective-Annual-Rate","type":"heading","level":3},{"inlineContent":[{"type":"text","text":"Compare nominal rates with different compounding frequencies:"}],"type":"paragraph"},{"code":["let monthlyCompounding = DebtInstrument(","    principal: 10_000.0,","    interestRate: 0.12,  \/\/ 12% APR","    startDate: Date(),","    maturityDate: Calendar.current.date(byAdding: .year, value: 1, to: Date())!,","    paymentFrequency: .monthly,","    amortizationType: .levelPayment",")","","let ear = monthlyCompounding.effectiveAnnualRate()","print(\"Effective Annual Rate: \\(ear * 100)%\")  \/\/ 12.68%"],"syntax":"swift","type":"codeListing"},{"text":"Capital Structure & WACC","anchor":"Capital-Structure--WACC","type":"heading","level":2},{"text":"Weighted Average Cost of Capital","anchor":"Weighted-Average-Cost-of-Capital","type":"heading","level":3},{"inlineContent":[{"type":"text","text":"Calculate a company’s overall cost of capital:"}],"type":"paragraph"},{"code":["\/\/ Company with $600M equity and $400M debt","let waccRate = wacc(","    equityValue: 600_000_000,","    debtValue: 400_000_000,","    costOfEquity: 0.12,","    costOfDebt: 0.06,","    taxRate: 0.25",")","","print(\"WACC: \\(waccRate * 100)%\")  \/\/ 9.0%"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Formula"}],"type":"strong"},{"text":": WACC = (E\/(E+D)) × Re + (D\/(E+D)) × Rd × (1-T)","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Where:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"E = Market value of equity","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"D = Market value of debt"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Re = Cost of equity","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Rd = Cost of debt (before tax)"}]}]},{"content":[{"inlineContent":[{"text":"T = Corporate tax rate","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":3,"type":"heading","anchor":"Using-CapitalStructure-Type","text":"Using CapitalStructure Type"},{"inlineContent":[{"type":"text","text":"Track and analyze capital structure:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let structure = CapitalStructure(","    debtValue: 400_000_000,","    equityValue: 600_000_000,","    costOfDebt: 0.06,","    costOfEquity: 0.12,","    taxRate: 0.25",")","","print(\"WACC: \\(structure.wacc * 100)%\")                           \/\/ 9.0%","print(\"Debt Ratio: \\(structure.debtRatio * 100)%\")                \/\/ 40%","print(\"Debt-to-Equity: \\(structure.debtToEquityRatio)\")           \/\/ 0.67","print(\"After-tax Cost of Debt: \\(structure.afterTaxCostOfDebt * 100)%\")  \/\/ 4.5%","","\/\/ Tax benefits from debt","print(\"Annual Tax Shield: $\\(structure.annualTaxShield)\")         \/\/ $6M"]},{"level":3,"type":"heading","anchor":"Cost-of-Equity-CAPM","text":"Cost of Equity (CAPM)"},{"inlineContent":[{"type":"text","text":"Calculate cost of equity using the Capital Asset Pricing Model:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let costOfEquity = capm(","    riskFreeRate: 0.03,      \/\/ 3-year Treasury","    beta: 1.2,               \/\/ Company beta","    marketReturn: 0.10       \/\/ Expected market return",")","","print(\"Cost of Equity: \\(costOfEquity * 100)%\")  \/\/ 11.4%"]},{"inlineContent":[{"inlineContent":[{"type":"text","text":"Formula"}],"type":"strong"},{"text":": Re = Rf + β × (Rm - Rf)","type":"text"}],"type":"paragraph"},{"level":3,"type":"heading","anchor":"Beta-Levering--Unlevering","text":"Beta Levering & Unlevering"},{"inlineContent":[{"type":"text","text":"Adjust beta for financial leverage:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Remove leverage to get asset beta","let assetBeta = unleverBeta(","    leveredBeta: 1.5,","    debtToEquityRatio: 0.5,","    taxRate: 0.30",")","print(\"Unlevered Beta: \\(assetBeta)\")  \/\/ 1.11","","\/\/ Add leverage back for different capital structure","let newEquityBeta = leverBeta(","    unleveredBeta: assetBeta,","    debtToEquityRatio: 0.75,  \/\/ Higher leverage","    taxRate: 0.30",")","print(\"New Levered Beta: \\(newEquityBeta)\")  \/\/ 1.69"]},{"level":2,"type":"heading","anchor":"Equity-Financing--Cap-Tables","text":"Equity Financing & Cap Tables"},{"level":3,"type":"heading","anchor":"Basic-Cap-Table","text":"Basic Cap Table"},{"inlineContent":[{"type":"text","text":"Track ownership across founders and investors:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let alice = CapTable.Shareholder(","    name: \"Alice (Founder)\",","    shares: 6_000_000,","    investmentDate: Date(),","    pricePerShare: 0.001",")","","let bob = CapTable.Shareholder(","    name: \"Bob (Founder)\",","    shares: 4_000_000,","    investmentDate: Date(),","    pricePerShare: 0.001",")","","var capTable = CapTable(","    shareholders: [alice, bob],","    optionPool: 0",")","","let ownership = capTable.ownership()","print(\"Alice owns: \\(ownership[\"Alice (Founder)\"]! * 100)%\")  \/\/ 60%","print(\"Bob owns: \\(ownership[\"Bob (Founder)\"]! * 100)%\")      \/\/ 40%"]},{"level":3,"type":"heading","anchor":"Modeling-Financing-Rounds","text":"Modeling Financing Rounds"},{"inlineContent":[{"text":"Track dilution through funding rounds:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Series A: $5M at $15M pre-money","capTable = capTable.modelRound(","\tnewInvestment: 5_000_000,","\tpreMoneyValuation: 15_000_000,","\toptionPoolIncrease: 0.0,","\tinvestorName: \"VC Fund A\"",")","","let postSeriesA = capTable.ownership()","print(\"Alice after Series A: \\(postSeriesA[\"Alice (Founder)\"]! * 100)%\")  \/\/ 45%","print(\"VC Fund A: \\(postSeriesA[\"VC Fund A\"]! * 100)%\")                   \/\/ 25%","","\/\/ Series B: $15M at $50M pre-money","capTable = capTable.modelRound(","\tnewInvestment: 15_000_000,","\tpreMoneyValuation: 50_000_000,","\toptionPoolIncrease: 0.0,","\tinvestorName: \"VC Fund B\"",")","","let postSeriesB = capTable.ownership()","print(\"Alice after Series B: \\(postSeriesB[\"Alice (Founder)\"]! * 100)%\")  \/\/ ~34.6%"]},{"level":3,"type":"heading","anchor":"Option-Pool-Dilution","text":"Option Pool Dilution"},{"inlineContent":[{"type":"text","text":"Calculate dilution from creating an option pool:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let prePoolShares = 10_000_000.0","let poolSize = 2_000_000.0  \/\/ 2M share option pool","","let dilution = optionPoolDilution(","\tcurrentShares: prePoolShares,","\toptionPoolPercent: poolSize \/ (prePoolShares + poolSize),","\ttiming: .postRound",")","","print(\"Founder dilution from option pool: \\(dilution * 100)%\")  \/\/ 16.67%"]},{"level":3,"type":"heading","anchor":"Anti-Dilution-Protection","text":"Anti-Dilution Protection"},{"inlineContent":[{"type":"text","text":"Model full ratchet and weighted average anti-dilution:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ Investor has 1M shares at $2\/share, now raising at $1\/share (down round)","let adjustedShares = applyAntiDilution(","    originalShares: 1_000_000,","    originalPrice: 2.00,","    newPrice: 1.00,","    type: .fullRatchet",")","","print(\"Shares after full ratchet: \\(adjustedShares)\")  \/\/ 2,000,000","","\/\/ Weighted average is less dilutive","let weightedShares = applyWeightedAverageAntiDilution(","    originalShares: 8_000_000,","    originalPrice: 1.00,","    newPrice: 0.50,","    newShares: 6_000_000,","    fullyDilutedBeforeRound: 1_000_000",")","","print(\"Shares after weighted average: \\(weightedShares)\")  \/\/ ~14,000,000"]},{"level":3,"type":"heading","anchor":"SAFE--Convertible-Notes","text":"SAFE & Convertible Notes"},{"inlineContent":[{"text":"Model Simple Agreements for Future Equity:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let safe = SAFE(","    investment: 100_000,","    postMoneyCap: 10_000_000,","    type: .postMoney",")","","\/\/ Convert at Series A","let conversion = safe.convert(seriesAValuation: 20_000_000)","print(\"SAFE converts to \\(conversion.shares) shares\")","print(\"Conversion price: $\\(conversion.pricePerShare)\")","","\/\/ Convertible note with discount and cap","let noteConversion = convertNote(","\tprincipal: 500_000,","\tvaluationCap: 8_000_000,","\tdiscount: 0.20,","\tseriesAPricePerShare: 2.0",")","","print(\"Note converts to \\(noteConversion.shares) shares\")"]},{"level":2,"type":"heading","anchor":"Debt-Covenants","text":"Debt Covenants"},{"level":3,"type":"heading","anchor":"Monitoring-Financial-Covenants","text":"Monitoring Financial Covenants"},{"inlineContent":[{"text":"Track compliance with lender restrictions:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let covenants = [","    FinancialCovenant(","        name: \"Minimum Current Ratio\",","        requirement: .minimumRatio(metric: .currentRatio, threshold: 1.5)","    ),","    FinancialCovenant(","        name: \"Maximum Debt-to-Equity\",","        requirement: .maximumRatio(metric: .debtToEquity, threshold: 2.0)","    ),","    FinancialCovenant(","        name: \"Minimum Interest Coverage\",","        requirement: .minimumRatio(metric: .interestCoverage, threshold: 3.0)","    )","]","","let monitor = CovenantMonitor(covenants: covenants)","let results = monitor.checkCompliance(","    incomeStatement: incomeStatement,","    balanceSheet: balanceSheet,","    period: q1",")","","for result in results {","    let status = result.isCompliant ? \"✓ PASS\" : \"✗ FAIL\"","    print(\"\\(status) \\(result.covenant.name)\")","    print(\"  Actual: \\(result.actualValue)\")","    print(\"  Required: \\(result.requiredValue)\")","}"]},{"level":3,"type":"heading","anchor":"Interest-Coverage-Ratio","text":"Interest Coverage Ratio"},{"inlineContent":[{"type":"text","text":"Calculate a key debt service metric:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let coverage = calculateInterestCoverage(","    incomeStatement: incomeStatement,","    balanceSheet: balanceSheet,","    period: q1",")","","print(\"Interest Coverage: \\(coverage)x\")","","if coverage < 2.0 {","    print(\"Warning: Low interest coverage - difficulty servicing debt\")","} else if coverage > 5.0 {","    print(\"Strong: Company can easily cover interest payments\")","}"]},{"level":2,"type":"heading","anchor":"Lease-Accounting","text":"Lease Accounting"},{"level":3,"type":"heading","anchor":"Lease-vs-Buy-Analysis","text":"Lease vs Buy Analysis"},{"inlineContent":[{"text":"Compare the economics of leasing vs purchasing:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ Leasing: $2,000\/month for 5 years","let leasePV = leasePaymentsPV(","    periodicPayment: 2_000,","    periods: 60,","    discountRate: 0.06 \/ 12",")","","\/\/ Buying: $100,000 purchase, $500 annual maintenance, $20,000 salvage","let buyPV = buyAssetPV(","    purchasePrice: 100_000,","    salvageValue: 20_000,","    holdingPeriod: 5,","    discountRate: 0.06,","    maintenanceCost: 500",")","","let analysis = LeaseVsBuyAnalysis(leasePV: leasePV, buyPV: buyPV)","","print(\"Net Advantage to Leasing: $\\(analysis.netAdvantageToLeasing)\")","print(\"Should lease? \\(analysis.shouldLease)\")","print(\"Savings: \\(analysis.savingsPercentage * 100)%\")"]},{"level":3,"type":"heading","anchor":"Lease-Liability--ROU-Asset","text":"Lease Liability & ROU Asset"},{"inlineContent":[{"type":"text","text":"Calculate present value for balance sheet recognition (IFRS 16 \/ ASC 842):"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let payments = Array(repeating: 5_000.0, count: 60)  \/\/ $5,000\/month for 5 years","","let lease = Lease(","    payments: payments,","    discountRate: 0.05 \/ 12,  \/\/ Monthly discount rate","    residualValue: 0",")","","print(\"Lease Liability: $\\(lease.presentValue())\")","print(\"Right-of-Use Asset: $\\(lease.rightOfUseAsset())\")","","\/\/ Generate amortization schedule","let schedule = lease.detailedSchedule()","for (index, entry) in schedule.prefix(12).enumerated() {","    print(\"Month \\(index + 1):\")","    print(\"  Payment: $\\(entry.payment)\")","    print(\"  Interest: $\\(entry.interest)\")","    print(\"  Principal: $\\(entry.principal)\")","    print(\"  Balance: $\\(entry.balance)\")","}"]},{"level":3,"type":"heading","anchor":"Sale-and-Leaseback","text":"Sale-and-Leaseback"},{"inlineContent":[{"text":"Analyze sale-and-leaseback transactions:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let transaction = SaleAndLeaseback(","    salePrice: 5_000_000,","    bookValue: 4_000_000,","    leaseTerm: 20,","    annualLeasePayment: 400_000,","    discountRate: 0.06",")","","print(\"Gain on Sale: \\(transaction.gainOnSale.currency())\")","print(\"PV of Lease Obligations: \\(transaction.leaseObligationPV.currency())\")","print(\"Net Cash Benefit: \\(transaction.netCashBenefit.currency())\")","print(\"Economically Beneficial? \\(transaction.isEconomicallyBeneficial)\")"]},{"level":3,"type":"heading","anchor":"Lease-Classification","text":"Lease Classification"},{"inlineContent":[{"type":"text","text":"Determine if a lease is finance or operating (ASC 842):"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let classification = classifyLease(","    leaseTerm: 8,","    assetUsefulLife: 10,","    presentValue: 90_000,","    assetFairValue: 100_000,","    ownershipTransfer: false,","    purchaseOption: false",")","","switch classification {","case .finance:","    print(\"Finance Lease - capitalize on balance sheet\")","case .operating:","    print(\"Operating Lease - expense as incurred\")","}"]},{"type":"heading","anchor":"Practical-Examples","text":"Practical Examples","level":2},{"type":"heading","anchor":"Complete-Debt-Analysis","text":"Complete Debt Analysis","level":3},{"type":"paragraph","inlineContent":[{"text":"Analyze a company’s debt structure:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Existing debt: $500M term loan","let termLoan = DebtInstrument(","    principal: 500_000_000,","    interestRate: 0.055,","    startDate: Date(),","    maturityDate: Calendar.current.date(byAdding: .year, value: 7, to: Date())!,","    paymentFrequency: .quarterly,","    amortizationType: .levelPayment",")","","let schedule = termLoan.schedule()","","\/\/ Current capital structure","let structure = CapitalStructure(","    debtValue: 500_000_000,","    equityValue: 1_000_000_000,","    costOfDebt: 0.055,","    costOfEquity: 0.11,","    taxRate: 0.25",")","","print(\"=== Debt Analysis ===\")","print(\"Quarterly Payment: \\(termLoanSchedule.payment[termLoanSchedule.periods.first!]!.currency())\")","print(\"Annual Debt Service: \\((termLoanSchedule.payment[termLoanSchedule.periods.first!]! * 4).currency())\")","print(\"Total Interest (Life of Loan): \\(termLoanSchedule.totalInterest.currency())\")","print()","print(\"=== Capital Structure ===\")","print(\"WACC: \\(termLoanStructure.wacc * 100)%\")","print(\"Debt Ratio: \\(termLoanStructure.debtRatio * 100)%\")","print(\"Annual Tax Shield: \\(termLoanStructure.annualTaxShield.currency())\")","print(\"After-tax Cost of Debt: \\(termLoanStructure.afterTaxCostOfDebt * 100)%\")"]},{"type":"heading","anchor":"Modeling-a-Financing-Round","text":"Modeling a Financing Round","level":3},{"type":"paragraph","inlineContent":[{"text":"Track a startup through multiple rounds:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Founders start with 10M shares","let founder1 = CapTable.Shareholder(name: \"Founder 1\", shares: 6_000_000, investmentDate: Date(), pricePerShare: 0.001)","let founder2 = CapTable.Shareholder(name: \"Founder 2\", shares: 4_000_000, investmentDate: Date(), pricePerShare: 0.001)","","var initialCapTable = CapTable(shareholders: [founder1, founder2], optionPool: 0)","","print(\"=== At Founding ===\")","var initialOwnership = initialCapTable.ownership()","print(\"Founder 1: \\(initialOwnership[\"Founder 1\"]! * 100)%\")","print(\"Founder 2: \\(initialOwnership[\"Founder 2\"]! * 100)%\")","","\/\/ Seed: $2M at $8M pre","initialCapTable = initialCapTable.modelRound(","\tnewInvestment: 2_000_000,","\tpreMoneyValuation: 8_000_000,","\toptionPoolIncrease: 0.0,","\tinvestorName: \"Seed Investors\",","\tpoolTiming: .postRound",")","","print(\"\\n=== After Seed ($2M at $8M pre) ===\")","initialOwnership = initialCapTable.ownership()","for (name, pct) in initialOwnership.sorted(by: { $0.value > $1.value }) {","\tprint(\"\\(name): \\(pct * 100)%\")","}","","\/\/ Series A: $10M at $40M pre","initialCapTable = initialCapTable.modelRound(","\tnewInvestment: 10_000_000,","\tpreMoneyValuation: 40_000_000,","\toptionPoolIncrease: 0.0,","\tinvestorName: \"Series A Lead\"",")","print(\"\\n=== After Series A ($10M at $40M pre) ===\")","initialOwnership = initialCapTable.ownership()","for (name, pct) in initialOwnership.sorted(by: { $0.value > $1.value }) {","\tprint(\"\\(name): \\(pct * 100)%\")","}"]},{"type":"heading","anchor":"Best-Practices","text":"Best Practices","level":2},{"type":"heading","anchor":"Debt-Instruments","text":"Debt Instruments","level":3},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Match payment frequency to cash flows"}]},{"type":"text","text":": Monthly for consumer, quarterly\/annual for commercial"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Consider prepayment options","type":"text"}]},{"type":"text","text":": Factor in early repayment flexibility"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Account for fees"}],"type":"strong"},{"type":"text","text":": Include origination fees in effective rate calculations"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Model different scenarios"}],"type":"strong"},{"text":": Test sensitivity to interest rate changes","type":"text"}],"type":"paragraph"}]}]},{"type":"heading","anchor":"Capital-Structure","text":"Capital Structure","level":3},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Industry benchmarks"}],"type":"strong"},{"text":": Compare D\/E ratios to industry peers","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Tax benefits"}]},{"text":": Remember debt provides tax shield (interest is deductible)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Financial flexibility"}],"type":"strong"},{"text":": Maintain access to capital markets","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Optimal structure"}]},{"type":"text","text":": Balance tax benefits vs bankruptcy costs"}],"type":"paragraph"}]}]},{"type":"heading","text":"Equity Financing","level":3,"anchor":"Equity-Financing"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"Model dilution","type":"text"}],"type":"strong"},{"text":": Always project ownership through future rounds","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Option pool timing"}]},{"type":"text","text":": Create pool before priced rounds to minimize founder dilution"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Protective provisions"}],"type":"strong"},{"text":": Understand investor rights beyond ownership percentage","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"409A valuations","type":"text"}]},{"type":"text","text":": Keep common stock valuations current for option grants"}],"type":"paragraph"}]}]},{"text":"Lease Accounting","type":"heading","anchor":"Lease-Accounting","level":3},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Discount rate","type":"text"}]},{"text":": Use incremental borrowing rate if implicit rate unknown","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Lease term"}]},{"text":": Include renewal options reasonably certain to be exercised","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Variable payments"}],"type":"strong"},{"type":"text","text":": Exclude from liability calculation"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Reassessment"}]},{"type":"text","text":": Review lease classifications annually"}],"type":"paragraph"}]}]},{"text":"Next Steps","type":"heading","anchor":"Next-Steps","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Explore ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis","isActive":true},{"type":"text","text":" for NPV and IRR calculations"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn about "},{"type":"reference","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","isActive":true},{"type":"text","text":" for analyzing leverage ratios"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"See ","type":"text"},{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","isActive":true,"type":"reference"},{"text":" for modeling multiple financing scenarios","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Review "},{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/TimeValueOfMoney","type":"reference","isActive":true},{"type":"text","text":" for present value fundamentals"}]}]}]},{"level":2,"anchor":"Related-Topics","text":"Related Topics","type":"heading"},{"items":[{"content":[{"inlineContent":[{"code":"DebtInstrument","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"AmortizationSchedule"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"wacc(equityValue:debtValue:costOfEquity:costOfDebt:taxRate:)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"CapitalStructure","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"capm(riskFreeRate:beta:marketReturn:)"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"CapTable","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"SAFE","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"FinancialCovenant","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"CovenantMonitor","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Lease"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"LeaseVsBuyAnalysis"}]}]}],"type":"unorderedList"}],"kind":"content"}],"references":{"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/PortfolioOptimizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","type":"topic","title":"Portfolio Optimization","url":"\/documentation\/businessmath\/portfoliooptimizationguide","abstract":[{"type":"text","text":"Build optimal investment portfolios using Modern Portfolio Theory and risk parity strategies."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/LeaseAccountingGuide":{"kind":"article","role":"article","title":"Lease Accounting (IFRS 16 \/ ASC 842)","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LeaseAccountingGuide","abstract":[{"type":"text","text":"Model lease liabilities, right-of-use assets, and lease accounting under modern standards."}],"url":"\/documentation\/businessmath\/leaseaccountingguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/InvestmentAnalysis":{"abstract":[{"type":"text","text":"Evaluate investment opportunities using NPV, IRR, and other financial metrics."}],"url":"\/documentation\/businessmath\/investmentanalysis","role":"article","kind":"article","title":"Investment Analysis","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/ForecastingGuide":{"kind":"article","role":"article","title":"Time Series Forecasting","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide","abstract":[{"type":"text","text":"Predict future values using statistical forecasting methods with BusinessMath."}],"url":"\/documentation\/businessmath\/forecastingguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/EquityFinancingGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","type":"topic","title":"Equity Financing and Cap Table Modeling","kind":"article","url":"\/documentation\/businessmath\/equityfinancingguide","abstract":[{"type":"text","text":"Model startup financing rounds, cap tables, SAFEs, convertible notes, and liquidation scenarios."}],"role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath","type":"topic","title":"BusinessMath","url":"\/documentation\/businessmath","kind":"article","abstract":[{"text":"A comprehensive Swift library for business mathematics, time series analysis, and financial modeling.","type":"text"}],"role":"collection"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingRevenueModel":{"kind":"article","role":"article","title":"Building a Revenue Forecasting Model","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","abstract":[{"type":"text","text":"Create a complete revenue forecast with trend analysis and seasonality."}],"url":"\/documentation\/businessmath\/buildingrevenuemodel","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/TimeValueOfMoney":{"kind":"article","role":"article","title":"Time Value of Money","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/TimeValueOfMoney","abstract":[{"type":"text","text":"Calculate present value, future value, and investment returns for financial analysis."}],"url":"\/documentation\/businessmath\/timevalueofmoney","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RealOptionsGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","type":"topic","url":"\/documentation\/businessmath\/realoptionsguide","title":"Real Options Valuation","abstract":[{"type":"text","text":"Value strategic flexibility and managerial decisions using option pricing theory."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingFinancialReports":{"abstract":[{"type":"text","text":"Create comprehensive financial reports with operational metrics, period summaries, and trend analysis."}],"url":"\/documentation\/businessmath\/buildingfinancialreports","role":"article","kind":"article","title":"Building Multi-Period Financial Reports","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/ScenarioAnalysisGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","type":"topic","title":"Scenario & Sensitivity Analysis","url":"\/documentation\/businessmath\/scenarioanalysisguide","abstract":[{"type":"text","text":"Learn how to model multiple scenarios and analyze which inputs have the greatest impact on your outcomes."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/OptimizationGuide":{"kind":"article","role":"article","title":"Optimization and Numerical Solvers","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","abstract":[{"type":"text","text":"Learn how to find optimal values and solve equations using BusinessMath’s optimization toolkit."}],"url":"\/documentation\/businessmath\/optimizationguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialRatiosGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","type":"topic","title":"Financial Ratios & Metrics","url":"\/documentation\/businessmath\/financialratiosguide","abstract":[{"type":"text","text":"Learn how to analyze financial performance using key ratios and metrics."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialStatementsGuide":{"kind":"article","role":"article","title":"Building Financial Statements","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","abstract":[{"type":"text","text":"Learn how to model complete financial statements including Income Statement, Balance Sheet, and Cash Flow Statement."}],"url":"\/documentation\/businessmath\/financialstatementsguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/VisualizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","type":"topic","url":"\/documentation\/businessmath\/visualizationguide","title":"Command-Line Visualization","abstract":[{"type":"text","text":"Learn how to create visual representations of data directly in the terminal."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RiskAnalyticsGuide":{"abstract":[{"type":"text","text":"Measure and manage risk with comprehensive analytics and scenario testing."}],"url":"\/documentation\/businessmath\/riskanalyticsguide","role":"article","kind":"article","title":"Risk Analytics and Stress Testing","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/LoanAmortization":{"kind":"article","role":"article","title":"Loan Amortization Analysis","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","abstract":[{"type":"text","text":"Build a complete loan amortization schedule and analyze payment breakdowns."}],"url":"\/documentation\/businessmath\/loanamortization","type":"topic"}}}