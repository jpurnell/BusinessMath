{"sections":[],"schemaVersion":{"major":0,"patch":0,"minor":3},"identifier":{"url":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide","interfaceLanguage":"swift"},"seeAlsoSections":[{"title":"Tutorials","identifiers":["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LeaseAccountingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"],"generated":true,"anchor":"Tutorials"}],"hierarchy":{"paths":[["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath"]]},"abstract":[{"text":"Predict future values using statistical forecasting methods with BusinessMath.","type":"text"}],"metadata":{"roleHeading":"Article","role":"article","title":"Time Series Forecasting"},"kind":"article","primaryContentSections":[{"content":[{"text":"Overview","type":"heading","level":2,"anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Forecasting is essential for business planning. BusinessMath provides battle-tested forecasting algorithms that help you predict future sales, demand, costs, and other business metrics."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This guide covers:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Holt-Winters triple exponential smoothing for seasonal data"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Moving average forecasts for trend identification","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Anomaly detection for unusual patterns","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Confidence intervals for forecast uncertainty"}]}]}]},{"text":"Holt-Winters Forecasting","type":"heading","level":2,"anchor":"Holt-Winters-Forecasting"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Holt-Winters is one of the most widely used forecasting methods. It handles three components: level, trend, and seasonality."}]},{"text":"Monthly Sales Forecast","type":"heading","level":3,"anchor":"Monthly-Sales-Forecast"},{"syntax":"swift","type":"codeListing","code":["import BusinessMath","","\/\/ Historical monthly sales (2 years)","let months = (1...24).map { Period.month(year: 2023 + ($0 - 1) \/ 12, month: (($0 - 1) % 12) + 1) }","let sales: [Double] = [","    \/\/ Year 1","    100, 110, 95, 105, 115, 125, 140, 135, 120, 110, 130, 150,","    \/\/ Year 2","    105, 115, 100, 110, 120, 130, 145, 140, 125, 115, 135, 155","]","","let salesTimeSeries = TimeSeries(","    periods: months,","    values: sales,","    metadata: TimeSeriesMetadata(name: \"Monthly Sales\", unit: \"Units\")",")","","\/\/ Create Holt-Winters model","let model = HoltWintersModel(","    alpha: 0.2,  \/\/ Level smoothing","    beta: 0.1,   \/\/ Trend smoothing","    gamma: 0.1,  \/\/ Seasonal smoothing","    seasonalPeriods: 12  \/\/ Monthly data with annual seasonality",")","","\/\/ Generate forecast","let forecast = model.forecast(","    timeSeries: salesTimeSeries,","    periods: 6  \/\/ Predict next 6 months",")","","print(\"6-month forecast:\")","for (period, value) in zip(forecast.periods, forecast.values) {","    print(\"\\(period.label): \\(Int(value)) units\")","}"]},{"text":"Revenue Forecast with Confidence Intervals","type":"heading","level":3,"anchor":"Revenue-Forecast-with-Confidence-Intervals"},{"syntax":"swift","type":"codeListing","code":["\/\/ Forecast with uncertainty bounds","let revenueTimeSeries = TimeSeries(","    periods: months,","    values: sales.map { $0 * 299.99 },  \/\/ $299.99 per unit","    metadata: TimeSeriesMetadata(name: \"Revenue\", unit: \"USD\")",")","","let revenueForecast = model.forecastWithConfidence(","    timeSeries: revenueTimeSeries,","    periods: 12,","    confidenceLevel: 0.95",")","","print(\"\\n12-month revenue forecast:\")","for i in 0..<12 {","    let period = revenueForecast.periods[i]","    let forecast = revenueForecast.forecasts[i]","    let lower = revenueForecast.lowerBounds[i]","    let upper = revenueForecast.upperBounds[i]","","    print(\"\\(period.label):\")","    print(\"  Forecast: $\\(Int(forecast))\")","    print(\"  95% CI: [$\\(Int(lower)), $\\(Int(upper))]\")","}"]},{"text":"Moving Average Forecasts","type":"heading","level":2,"anchor":"Moving-Average-Forecasts"},{"type":"paragraph","inlineContent":[{"text":"Moving averages smooth out short-term fluctuations to reveal underlying trends.","type":"text"}]},{"text":"Simple Moving Average","type":"heading","level":3,"anchor":"Simple-Moving-Average"},{"code":["\/\/ 3-month moving average for trend identification","let sma = salesTimeSeries.movingAverage(window: 3)","","print(\"Last 6 months - Actual vs Trend:\")","for i in (sales.count - 6)..<sales.count {","    print(\"\\(months[i].label): Actual \\(sales[i]), Trend \\(Int(sma.values[i]))\")","}"],"type":"codeListing","syntax":"swift"},{"text":"Weighted Moving Average","type":"heading","level":3,"anchor":"Weighted-Moving-Average"},{"code":["\/\/ Weight recent months more heavily","let weights = [0.5, 0.3, 0.2]  \/\/ Most recent = 50%, then 30%, then 20%","","func weightedForecast(history: [Double], weights: [Double]) -> Double {","    let recent = Array(history.suffix(weights.count))","    return zip(recent.reversed(), weights).map(*).reduce(0, +)","}","","let nextMonthForecast = weightedForecast(history: sales, weights: weights)","print(\"Next month forecast (weighted): \\(Int(nextMonthForecast)) units\")"],"type":"codeListing","syntax":"swift"},{"text":"Anomaly Detection","type":"heading","level":2,"anchor":"Anomaly-Detection"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Identify unusual values that don’t fit the pattern."}]},{"text":"Statistical Anomaly Detection","type":"heading","level":3,"anchor":"Statistical-Anomaly-Detection"},{"code":["let anomalyDetector = AnomalyDetector(sensitivity: 2.5)","","\/\/ Detect anomalies in sales data","let anomalies = anomalyDetector.detect(timeSeries: salesTimeSeries)","","if !anomalies.isEmpty {","    print(\"Anomalies detected:\")","    for anomaly in anomalies {","        print(\"\\(anomaly.period.label): \\(anomaly.value) (expected: \\(Int(anomaly.expectedValue)))\")","        print(\"  Deviation: \\(anomaly.standardDeviations) standard deviations\")","    }","} else {","    print(\"No anomalies detected - data follows expected pattern\")","}"],"type":"codeListing","syntax":"swift"},{"text":"Business Rule Anomalies","type":"heading","level":3,"anchor":"Business-Rule-Anomalies"},{"code":["\/\/ Flag months where sales dropped >20% from prior month","func detectDrops(sales: [Double], threshold: Double = 0.20) -> [(month: Int, drop: Double)] {","    var drops: [(Int, Double)] = []","","    for i in 1..<sales.count {","        let change = (sales[i] - sales[i-1]) \/ sales[i-1]","        if change < -threshold {","            drops.append((i, change))","        }","    }","","    return drops","}","","let significantDrops = detectDrops(sales: sales)","if !significantDrops.isEmpty {","    print(\"\\nSignificant sales drops:\")","    for (month, drop) in significantDrops {","        print(\"\\(months[month].label): \\(Int(drop * 100))% decrease\")","    }","}"],"type":"codeListing","syntax":"swift"},{"text":"Forecast Accuracy","type":"heading","level":2,"anchor":"Forecast-Accuracy"},{"type":"paragraph","inlineContent":[{"text":"Measure how good your forecasts are.","type":"text"}]},{"text":"Mean Absolute Percentage Error (MAPE)","type":"heading","level":3,"anchor":"Mean-Absolute-Percentage-Error-MAPE"},{"code":["func calculateMAPE(actual: [Double], forecast: [Double]) -> Double {","    let errors = zip(actual, forecast).map { abs(($0 - $1) \/ $0) }","    return mean(errors) * 100  \/\/ As percentage","}","","\/\/ Hold out last 6 months for validation","let trainData = Array(sales.prefix(18))","let testData = Array(sales.suffix(6))","","let trainPeriods = Array(months.prefix(18))","let trainTimeSeries = TimeSeries(periods: trainPeriods, values: trainData)","","let validationForecast = model.forecast(timeSeries: trainTimeSeries, periods: 6)","","let mape = calculateMAPE(actual: testData, forecast: validationForecast.valuesArray)","print(\"Forecast accuracy: MAPE = \\(String(format: \"%.1f\", mape))%\")","","if mape < 10 {","    print(\"Excellent forecast accuracy\")","} else if mape < 20 {","    print(\"Good forecast accuracy\")","} else {","    print(\"Consider adjusting model parameters or collecting more data\")","}"],"type":"codeListing","syntax":"swift"},{"text":"Tuning Forecast Parameters","type":"heading","level":2,"anchor":"Tuning-Forecast-Parameters"},{"text":"Grid Search for Optimal Parameters","type":"heading","level":3,"anchor":"Grid-Search-for-Optimal-Parameters"},{"code":["\/\/ Try different parameter combinations","let alphaValues = [0.1, 0.2, 0.3]","let betaValues = [0.05, 0.1, 0.15]","let gammaValues = [0.05, 0.1, 0.15]","","var bestMAPE = Double.infinity","var bestParams = (alpha: 0.2, beta: 0.1, gamma: 0.1)","","for alpha in alphaValues {","    for beta in betaValues {","        for gamma in gammaValues {","            let testModel = HoltWintersModel(","                alpha: alpha,","                beta: beta,","                gamma: gamma,","                seasonalPeriods: 12","            )","","            let testForecast = testModel.forecast(","                timeSeries: trainTimeSeries,","                periods: 6","            )","","            let testMAPE = calculateMAPE(","                actual: testData,","                forecast: testForecast.valuesArray","            )","","            if testMAPE < bestMAPE {","                bestMAPE = testMAPE","                bestParams = (alpha, beta, gamma)","            }","        }","    }","}","","print(\"Best parameters: α=\\(bestParams.alpha), β=\\(bestParams.beta), γ=\\(bestParams.gamma)\")","print(\"Best MAPE: \\(String(format: \"%.1f\", bestMAPE))%\")"],"type":"codeListing","syntax":"swift"},{"text":"Practical Tips","type":"heading","level":2,"anchor":"Practical-Tips"},{"text":"Choosing Forecast Horizons","type":"heading","level":3,"anchor":"Choosing-Forecast-Horizons"},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Short-term (1-3 periods)"}],"type":"strong"},{"type":"text","text":": Most accurate, use for operational planning"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Medium-term (4-12 periods)"}],"type":"strong"},{"text":": Good for tactical planning, budget forecasts","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Long-term (>12 periods)"}],"type":"strong"},{"text":": Least accurate, use with wide confidence intervals","type":"text"}]}]}],"type":"unorderedList"},{"level":3,"text":"Seasonal Periods","type":"heading","anchor":"Seasonal-Periods"},{"inlineContent":[{"type":"text","text":"Common seasonal patterns:"}],"type":"paragraph"},{"code":["let dailyWithWeekly = HoltWintersModel(..., seasonalPeriods: 7)      \/\/ Weekly pattern","let weeklyWithMonthly = HoltWintersModel(..., seasonalPeriods: 4)    \/\/ Monthly pattern","let monthlyWithAnnual = HoltWintersModel(..., seasonalPeriods: 12)   \/\/ Annual pattern","let quarterlyWithAnnual = HoltWintersModel(..., seasonalPeriods: 4)  \/\/ Annual pattern"],"type":"codeListing","syntax":"swift"},{"level":3,"text":"When to Retrain","type":"heading","anchor":"When-to-Retrain"},{"inlineContent":[{"text":"Update forecasts when:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"New data becomes available (monthly\/quarterly)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Business conditions change significantly"}]}]},{"content":[{"inlineContent":[{"text":"Forecast errors exceed acceptable thresholds","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Seasonality patterns shift"}],"type":"paragraph"}]}],"type":"orderedList"},{"level":2,"text":"Next Steps","type":"heading","anchor":"Next-Steps"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn "},{"type":"reference","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","isActive":true},{"type":"text","text":" to model multiple forecast scenarios"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Explore ","type":"text"},{"isActive":true,"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","type":"reference"},{"text":" to optimize forecast parameters","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"See "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"},{"type":"text","text":" for forecast uncertainty analysis"}]}]}],"type":"unorderedList"}],"kind":"content"}],"references":{"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/PortfolioOptimizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","type":"topic","title":"Portfolio Optimization","url":"\/documentation\/businessmath\/portfoliooptimizationguide","abstract":[{"type":"text","text":"Build optimal investment portfolios using Modern Portfolio Theory and risk parity strategies."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/LeaseAccountingGuide":{"kind":"article","role":"article","title":"Lease Accounting (IFRS 16 \/ ASC 842)","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LeaseAccountingGuide","abstract":[{"type":"text","text":"Model lease liabilities, right-of-use assets, and lease accounting under modern standards."}],"url":"\/documentation\/businessmath\/leaseaccountingguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/InvestmentAnalysis":{"abstract":[{"type":"text","text":"Evaluate investment opportunities using NPV, IRR, and other financial metrics."}],"url":"\/documentation\/businessmath\/investmentanalysis","role":"article","kind":"article","title":"Investment Analysis","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/EquityFinancingGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","type":"topic","title":"Equity Financing and Cap Table Modeling","kind":"article","url":"\/documentation\/businessmath\/equityfinancingguide","abstract":[{"type":"text","text":"Model startup financing rounds, cap tables, SAFEs, convertible notes, and liquidation scenarios."}],"role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath","type":"topic","title":"BusinessMath","url":"\/documentation\/businessmath","kind":"article","abstract":[{"text":"A comprehensive Swift library for business mathematics, time series analysis, and financial modeling.","type":"text"}],"role":"collection"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingRevenueModel":{"kind":"article","role":"article","title":"Building a Revenue Forecasting Model","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","abstract":[{"type":"text","text":"Create a complete revenue forecast with trend analysis and seasonality."}],"url":"\/documentation\/businessmath\/buildingrevenuemodel","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RealOptionsGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","type":"topic","url":"\/documentation\/businessmath\/realoptionsguide","title":"Real Options Valuation","abstract":[{"type":"text","text":"Value strategic flexibility and managerial decisions using option pricing theory."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingFinancialReports":{"abstract":[{"type":"text","text":"Create comprehensive financial reports with operational metrics, period summaries, and trend analysis."}],"url":"\/documentation\/businessmath\/buildingfinancialreports","role":"article","kind":"article","title":"Building Multi-Period Financial Reports","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/DebtAndFinancingGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","type":"topic","url":"\/documentation\/businessmath\/debtandfinancingguide","title":"Debt & Financing Models","abstract":[{"type":"text","text":"Learn how to model debt instruments, capital structure, equity financing, covenants, and lease accounting."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/ScenarioAnalysisGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","type":"topic","title":"Scenario & Sensitivity Analysis","url":"\/documentation\/businessmath\/scenarioanalysisguide","abstract":[{"type":"text","text":"Learn how to model multiple scenarios and analyze which inputs have the greatest impact on your outcomes."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/OptimizationGuide":{"kind":"article","role":"article","title":"Optimization and Numerical Solvers","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","abstract":[{"type":"text","text":"Learn how to find optimal values and solve equations using BusinessMath’s optimization toolkit."}],"url":"\/documentation\/businessmath\/optimizationguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialRatiosGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","type":"topic","title":"Financial Ratios & Metrics","url":"\/documentation\/businessmath\/financialratiosguide","abstract":[{"type":"text","text":"Learn how to analyze financial performance using key ratios and metrics."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialStatementsGuide":{"kind":"article","role":"article","title":"Building Financial Statements","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","abstract":[{"type":"text","text":"Learn how to model complete financial statements including Income Statement, Balance Sheet, and Cash Flow Statement."}],"url":"\/documentation\/businessmath\/financialstatementsguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/LoanAmortization":{"kind":"article","role":"article","title":"Loan Amortization Analysis","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","abstract":[{"type":"text","text":"Build a complete loan amortization schedule and analyze payment breakdowns."}],"url":"\/documentation\/businessmath\/loanamortization","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RiskAnalyticsGuide":{"abstract":[{"type":"text","text":"Measure and manage risk with comprehensive analytics and scenario testing."}],"url":"\/documentation\/businessmath\/riskanalyticsguide","role":"article","kind":"article","title":"Risk Analytics and Stress Testing","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/VisualizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","type":"topic","url":"\/documentation\/businessmath\/visualizationguide","title":"Command-Line Visualization","abstract":[{"type":"text","text":"Learn how to create visual representations of data directly in the terminal."}],"kind":"article","role":"article"}}}