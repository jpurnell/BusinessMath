{"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"identifier":{"url":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LeaseAccountingGuide","interfaceLanguage":"swift"},"seeAlsoSections":[{"anchor":"Tutorials","generated":true,"identifiers":["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"],"title":"Tutorials"}],"hierarchy":{"paths":[["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath"]]},"abstract":[{"text":"Model lease liabilities, right-of-use assets, and lease accounting under modern standards.","type":"text"}],"metadata":{"role":"article","roleHeading":"Article","title":"Lease Accounting (IFRS 16 \/ ASC 842)"},"kind":"article","primaryContentSections":[{"content":[{"text":"Overview","type":"heading","anchor":"Overview","level":2},{"type":"paragraph","inlineContent":[{"text":"Under IFRS 16 and ASC 842, most leases must be capitalized on the balance sheet as a right-of-use (ROU) asset and lease liability. The ","type":"text"},{"code":"Lease","type":"codeVoice"},{"text":" type provides comprehensive tools for:","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Calculating present value of lease payments with proper discount rates"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Generating amortization schedules for lease liabilities"}]}]},{"content":[{"inlineContent":[{"text":"Computing ROU asset depreciation","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Handling short-term and low-value lease exemptions"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Modeling lease modifications and extensions"}]}]},{"content":[{"inlineContent":[{"text":"Calculating sale-and-leaseback transactions","type":"text"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"text":"This guide walks through lease accounting from initial recognition through disposal.","type":"text"}]},{"text":"Understanding Lease Accounting Basics","type":"heading","anchor":"Understanding-Lease-Accounting-Basics","level":2},{"text":"Key Concepts","type":"heading","anchor":"Key-Concepts","level":3},{"type":"paragraph","inlineContent":[{"text":"Under modern lease accounting:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"Lease Liability","type":"text"}],"type":"strong"},{"type":"text","text":": Present value of future lease payments, discounted at the appropriate rate"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Right-of-Use Asset"}],"type":"strong"},{"type":"text","text":": Initial lease liability plus initial direct costs and prepayments"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Interest Expense"}]},{"text":": Calculated on the outstanding lease liability balance","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Depreciation"}]},{"text":": ROU asset is depreciated over the shorter of lease term or asset life","type":"text"}]}]}],"type":"unorderedList"},{"level":3,"anchor":"When-to-Capitalize-Leases","type":"heading","text":"When to Capitalize Leases"},{"type":"paragraph","inlineContent":[{"text":"All leases must be capitalized except:","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Short-term leases"}]},{"type":"text","text":": 12 months or less"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Low-value leases","type":"text"}],"type":"strong"},{"type":"text","text":": Underlying asset value < $5,000"}]}]}],"type":"unorderedList"},{"anchor":"Basic-Lease-Recognition","text":"Basic Lease Recognition","type":"heading","level":2},{"inlineContent":[{"text":"Calculate the initial lease liability and ROU asset:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["import BusinessMath","","\/\/ Quarterly lease payments for office space","let q1 = Period.quarter(year: 2025, quarter: 1)","let periods = [q1, q1 + 1, q1 + 2, q1 + 3]  \/\/ 4 quarters = 1 year","","let payments = TimeSeries(","    periods: periods,","    values: [25_000.0, 25_000.0, 25_000.0, 25_000.0]",")","","\/\/ Create lease with 6% annual discount rate","let lease = Lease(","    payments: payments,","    discountRate: 0.06  \/\/ Incremental borrowing rate",")","","\/\/ Calculate present value (lease liability)","let liability = lease.presentValue()","print(\"Initial lease liability: $\\(liability)\")  \/\/ ~$96,454","","\/\/ Calculate right-of-use asset","let rouAsset = lease.rightOfUseAsset()","print(\"ROU asset: $\\(rouAsset)\")  \/\/ Same as liability initially"],"type":"codeListing"},{"anchor":"Lease-Liability-Amortization-Schedule","text":"Lease Liability Amortization Schedule","type":"heading","level":2},{"inlineContent":[{"text":"Generate a complete amortization schedule:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let schedule = lease.liabilitySchedule()","","\/\/ Display schedule","for (period, balance) in schedule.sorted(by: { $0.key < $1.key }) {","    print(\"\\(period.label): Balance $\\(String(format: \"%.2f\", balance))\")","}","","\/\/ First period shows initial liability","\/\/ Subsequent periods show ending balance after payment"],"type":"codeListing"},{"inlineContent":[{"text":"Detailed breakdown with interest and principal:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let q1 = Period.quarter(year: 2025, quarter: 1)","","\/\/ Interest expense for first quarter","let interest1 = lease.interestExpense(period: q1)","print(\"Q1 Interest: $\\(interest1)\")  \/\/ Liability × (6% \/ 4)","","\/\/ Principal reduction","let principal1 = lease.principalReduction(period: q1)","print(\"Q1 Principal: $\\(principal1)\")  \/\/ Payment - Interest","","\/\/ Payment breakdown","let payment = 25_000.0","let totalExpense = interest1 + principal1","print(\"Total payment: $\\(payment)\")"],"type":"codeListing"},{"anchor":"Initial-Direct-Costs-and-Prepayments","text":"Initial Direct Costs and Prepayments","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Include initial direct costs and prepayments in ROU asset:"}],"type":"paragraph"},{"syntax":"swift","code":["let lease = Lease(","    payments: payments,","    discountRate: 0.08,","    initialDirectCosts: 5_000.0,  \/\/ Legal fees, commissions","    prepaidAmount: 10_000.0       \/\/ First month + security deposit",")","","let liability = lease.presentValue()  \/\/ PV of payments only","let rouAsset = lease.rightOfUseAsset()  \/\/ PV + costs + prepayments","","print(\"Lease liability: $\\(liability)\")","print(\"ROU asset: $\\(rouAsset)\")  \/\/ Higher than liability"],"type":"codeListing"},{"anchor":"Depreciation-of-ROU-Asset","text":"Depreciation of ROU Asset","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Calculate straight-line depreciation:"}],"type":"paragraph"},{"syntax":"swift","code":["let q1 = Period.quarter(year: 2025, quarter: 1)","","\/\/ Depreciation per period (straight-line)","let depreciation = lease.depreciation(period: q1)","print(\"Q1 Depreciation: $\\(depreciation)\")  \/\/ ROU asset ÷ lease term","","\/\/ Carrying value after each period","let carryingValue1 = lease.carryingValue(period: q1)","let carryingValue2 = lease.carryingValue(period: q1 + 1)","print(\"Q1 carrying value: $\\(carryingValue1)\")","print(\"Q2 carrying value: $\\(carryingValue2)\")  \/\/ Lower"],"type":"codeListing"},{"anchor":"Income-Statement-Impact","text":"Income Statement Impact","type":"heading","level":2},{"inlineContent":[{"text":"Complete P&L impact each period:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let q1 = Period.quarter(year: 2025, quarter: 1)","","\/\/ Interest expense (financing cost)","let interest = lease.interestExpense(period: q1)","","\/\/ Depreciation expense (operating expense)","let depreciation = lease.depreciation(period: q1)","","\/\/ Total P&L impact","let totalExpense = interest + depreciation","print(\"Q1 Total Expense: $\\(totalExpense)\")","","\/\/ Note: Expense is front-loaded (higher interest early)","\/\/ Compare to straight-line rent expense under old standard"],"type":"codeListing"},{"anchor":"Discount-Rate-Selection","text":"Discount Rate Selection","type":"heading","level":2},{"anchor":"Implicit-Rate-in-the-Lease","text":"Implicit Rate in the Lease","type":"heading","level":3},{"inlineContent":[{"text":"If known, use the rate implicit in the lease:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Usually only known for lessor","let lease = Lease(","    payments: payments,","    discountRate: 0.055,  \/\/ Rate implicit in lease","    discountRateType: .implicitRate",")"],"type":"codeListing"},{"anchor":"Incremental-Borrowing-Rate","text":"Incremental Borrowing Rate","type":"heading","level":3},{"inlineContent":[{"type":"text","text":"Most lessees use their incremental borrowing rate (IBR):"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Calculate IBR","let ibr = calculateIncrementalBorrowingRate(","    riskFreeRate: 0.03,        \/\/ Treasury rate","    creditSpread: 0.02,        \/\/ Company's credit spread","    assetRiskPremium: 0.005    \/\/ Asset-specific risk",")","print(\"IBR: \\(ibr * 100)%\")  \/\/ 5.5%","","let lease = Lease(","    payments: payments,","    discountRate: ibr,","    discountRateType: .incrementalBorrowingRate",")"],"type":"codeListing"},{"level":3,"text":"Impact of Discount Rate","type":"heading","anchor":"Impact-of-Discount-Rate"},{"inlineContent":[{"type":"text","text":"Higher discount rates reduce present value:"}],"type":"paragraph"},{"code":["let lowRate = Lease(payments: payments, discountRate: 0.04)","let highRate = Lease(payments: payments, discountRate: 0.10)","","print(\"PV at 4%: $\\(lowRate.presentValue())\")   \/\/ Higher PV","print(\"PV at 10%: $\\(highRate.presentValue())\")  \/\/ Lower PV"],"type":"codeListing","syntax":"swift"},{"text":"Short-Term Lease Exemption","type":"heading","level":2,"anchor":"Short-Term-Lease-Exemption"},{"type":"paragraph","inlineContent":[{"text":"Leases of 12 months or less can be expensed:","type":"text"}]},{"code":["let shortTermLease = Lease(","    payments: payments,","    discountRate: 0.06,","    leaseTerm: .months(12)  \/\/ Explicitly specify term",")","","if shortTermLease.isShortTerm {","    print(\"Qualifies for short-term exemption\")","    \/\/ Can expense payments as incurred","    \/\/ No ROU asset or liability","}","","\/\/ When exemption applied:","let rouAsset = shortTermLease.rightOfUseAsset()  \/\/ Returns 0","let schedule = shortTermLease.liabilitySchedule()  \/\/ Returns zeros"],"type":"codeListing","syntax":"swift"},{"text":"Low-Value Lease Exemption","type":"heading","level":2,"anchor":"Low-Value-Lease-Exemption"},{"type":"paragraph","inlineContent":[{"text":"Leases of assets < $5,000 can be expensed:","type":"text"}]},{"code":["let lowValueLease = Lease(","    payments: payments,","    discountRate: 0.06,","    underlyingAssetValue: 4_500.0  \/\/ Below $5K threshold",")","","if lowValueLease.isLowValue {","    print(\"Qualifies for low-value exemption\")","    \/\/ Can expense payments as incurred","}"],"type":"codeListing","syntax":"swift"},{"text":"Variable Lease Payments","type":"heading","level":2,"anchor":"Variable-Lease-Payments"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Handle variable payments separately:"}]},{"code":["\/\/ Fixed minimum payments","let fixedPayments = TimeSeries(","    periods: periods,","    values: [20_000.0, 20_000.0, 20_000.0, 20_000.0]",")","","\/\/ Variable payments (e.g., based on sales)","let variablePayments = TimeSeries(","    periods: periods,","    values: [3_000.0, 5_000.0, 4_500.0, 6_000.0]",")","","let lease = Lease(","    payments: fixedPayments,","    discountRate: 0.07,","    variablePayments: variablePayments",")","","\/\/ Only fixed payments in liability","let liability = lease.presentValue()  \/\/ PV of fixed portion only","","\/\/ Total cash payment includes variable component","let totalCash = lease.totalCashPayment(period: periods[0])","print(\"Total Q1 payment: $\\(totalCash)\")  \/\/ Fixed + variable"],"type":"codeListing","syntax":"swift"},{"text":"Lease Modifications","type":"heading","level":2,"anchor":"Lease-Modifications"},{"text":"Extension","type":"heading","level":3,"anchor":"Extension"},{"type":"paragraph","inlineContent":[{"text":"Extend the lease term:","type":"text"}]},{"code":["let originalLease = Lease(","    payments: payments,","    discountRate: 0.06",")","","\/\/ Extend by 2 more quarters","let extensionPayments = TimeSeries(","    periods: [q1 + 4, q1 + 5],","    values: [26_000.0, 26_000.0]",")","","let extendedLease = originalLease.extend(","    additionalPayments: extensionPayments",")","","let originalROU = originalLease.rightOfUseAsset()","let newROU = extendedLease.rightOfUseAsset()","print(\"ROU increase: $\\(newROU - originalROU)\")"],"type":"codeListing","syntax":"swift"},{"text":"Rent Reduction","type":"heading","level":3,"anchor":"Rent-Reduction"},{"type":"paragraph","inlineContent":[{"text":"Modify payment amounts (e.g., COVID rent relief):","type":"text"}]},{"code":["\/\/ Reduced payments for next 2 quarters","let reducedPayments = TimeSeries(","    periods: [q1, q1 + 1],","    values: [15_000.0, 15_000.0]  \/\/ Down from $25,000",")","","let modifiedLease = originalLease.modify(","    newPayments: reducedPayments,","    atPeriod: q1",")","","\/\/ Remeasure lease liability and ROU asset"],"type":"codeListing","syntax":"swift"},{"text":"Lease vs Buy Analysis","type":"heading","level":2,"anchor":"Lease-vs-Buy-Analysis"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Evaluate whether to lease or purchase:"}]},{"code":["\/\/ Lease option","let leasePV = leasePaymentsPV(","    periodicPayment: 5_000.0,","    periods: 60,  \/\/ 5 years monthly","    discountRate: 0.006  \/\/ Monthly rate",")","","\/\/ Buy option","let buyPV = buyAssetPV(","    purchasePrice: 250_000.0,","    salvageValue: 50_000.0,","    holdingPeriod: 5,","    discountRate: 0.075,","    maintenanceCost: 2_000.0  \/\/ Annual",")","","let analysis = LeaseVsBuyAnalysis(leasePV: leasePV, buyPV: buyPV)","","if analysis.shouldLease {","    print(\"Recommendation: \\(analysis.recommendation)\")","    print(\"Savings: \\(analysis.savingsPercentage * 100)%\")","} else {","    print(\"Buying is more economical\")","}"],"type":"codeListing","syntax":"swift"},{"text":"Sale and Leaseback Transactions","type":"heading","level":2,"anchor":"Sale-and-Leaseback-Transactions"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Model selling an asset and leasing it back:"}]},{"code":["let assetCarryingValue = 500_000.0","let salePrice = 600_000.0","","let leasebackPayments = TimeSeries(","    periods: periods,","    values: [40_000.0, 40_000.0, 40_000.0, 40_000.0]",")","","let transaction = SaleAndLeaseback(","    carryingValue: assetCarryingValue,","    salePrice: salePrice,","    leasebackPayments: leasebackPayments,","    discountRate: 0.06,","    startDate: q1.startDate",")","","\/\/ Gain recognition","let gainRecognized = transaction.recognizedGain()","let deferredGain = transaction.deferredGain()","","print(\"Recognized gain: $\\(gainRecognized)\")","print(\"Deferred gain: $\\(deferredGain)\")","","\/\/ Cash benefit","let cashBenefit = transaction.netCashBenefit","print(\"Net cash from transaction: $\\(cashBenefit)\")","","\/\/ Economic analysis","if transaction.isEconomicallyBeneficial {","    print(\"Transaction creates value\")","}"],"type":"codeListing","syntax":"swift"},{"text":"Finance vs Operating Lease Classification","type":"heading","level":2,"anchor":"Finance-vs-Operating-Lease-Classification"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Determine lease type under ASC 842:"}]},{"code":["let classification = classifyLease(","    leaseTerm: 48,           \/\/ months","    assetUsefulLife: 60,     \/\/ months","    presentValue: 90_000.0,","    assetFairValue: 100_000.0,","    ownershipTransfer: false,","    purchaseOption: false",")","","switch classification {","case .finance:","    print(\"Finance lease\")","    \/\/ Depreciation + interest expense","case .operating:","    print(\"Operating lease\")","    \/\/ Single lease expense (straight-line)","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Classification tests:"}]},{"items":[{"content":[{"inlineContent":[{"text":"Ownership transfers at end","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Purchase option reasonably certain"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Lease term ≥ 75% of useful life","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"PV of payments ≥ 90% of fair value","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Asset has no alternative use","type":"text"}]}]}],"type":"unorderedList"},{"type":"heading","level":2,"text":"Complete Lease Example","anchor":"Complete-Lease-Example"},{"type":"paragraph","inlineContent":[{"text":"Here’s a comprehensive lease accounting scenario:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["import BusinessMath","","\/\/ Office lease: 5 years, quarterly payments","let startDate = Period.quarter(year: 2025, quarter: 1)","let periods = (0..<20).map { startDate + $0 }  \/\/ 20 quarters","","\/\/ Fixed rent with 3% annual escalation","var payments: [Double] = []","let baseRent = 30_000.0","for i in 0..<20 {","    let yearIndex = i \/ 4","    let escalatedRent = baseRent * pow(1.03, Double(yearIndex))","    payments.append(escalatedRent)","}","","let paymentSeries = TimeSeries(periods: periods, values: payments)","","\/\/ Create lease with costs","let lease = Lease(","    payments: paymentSeries,","    discountRate: 0.068,  \/\/ 6.8% IBR","    initialDirectCosts: 15_000.0,  \/\/ Broker commission","    prepaidAmount: 30_000.0,       \/\/ First quarter rent","    depreciationMethod: .straightLine,","    leaseTerm: .years(5),","    underlyingAssetValue: 2_000_000.0  \/\/ Office space value",")","","\/\/ Initial recognition","let liability = lease.presentValue()","let rouAsset = lease.rightOfUseAsset()","","print(\"=== Initial Recognition ===\")","print(\"Lease liability: $\\(String(format: \"%.2f\", liability))\")","print(\"ROU asset: $\\(String(format: \"%.2f\", rouAsset))\")","","\/\/ First year expense breakdown","print(\"\\n=== Year 1 Expenses ===\")","for i in 0..<4 {","    let period = periods[i]","    let interest = lease.interestExpense(period: period)","    let depreciation = lease.depreciation(period: period)","    let total = interest + depreciation","","    print(\"\\(period.label): Interest $\\(String(format: \"%.0f\", interest)), \" +","          \"Depreciation $\\(String(format: \"%.0f\", depreciation)), \" +","          \"Total $\\(String(format: \"%.0f\", total))\")","}","","\/\/ Maturity analysis for disclosure","print(\"\\n=== Payment Maturity Analysis ===\")","let maturity = lease.maturityAnalysis()","for (year, amount) in maturity.sorted(by: { $0.key < $1.key }) {","    print(\"\\(year): $\\(String(format: \"%.0f\", amount))\")","}","","\/\/ Total commitment disclosure","let totalPayments = lease.totalFuturePayments()","print(\"\\nTotal future lease payments: $\\(String(format: \"%.0f\", totalPayments))\")","print(\"Present value: $\\(String(format: \"%.0f\", liability))\")","print(\"Implicit interest: $\\(String(format: \"%.0f\", totalPayments - liability))\")"]},{"type":"heading","level":2,"text":"Disclosure Requirements","anchor":"Disclosure-Requirements"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Key disclosures for lease accounting:"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Total commitments","let totalCommitments = lease.totalFuturePayments()","","\/\/ Weighted average discount rate","let effectiveRate = lease.effectiveRate","","\/\/ Weighted average remaining term","\/\/ (calculate from payment schedule)","","\/\/ Maturity analysis","let maturity = lease.maturityAnalysis()","","\/\/ Expense breakdown","let currentPeriod = Period.quarter(year: 2025, quarter: 1)","let interest = lease.interestExpense(period: currentPeriod)","let depreciation = lease.depreciation(period: currentPeriod)"]},{"type":"heading","level":2,"text":"Common Patterns","anchor":"Common-Patterns"},{"type":"heading","level":3,"text":"Monthly Lease with Annual Payments","anchor":"Monthly-Lease-with-Annual-Payments"},{"type":"codeListing","syntax":"swift","code":["\/\/ Annual payments but monthly periods for reporting","let year2025 = Period.year(2025)","let annualPayment = 120_000.0","","\/\/ Convert to monthly equivalent","let months = year2025.months()","let monthlyPayment = annualPayment \/ 12.0","","let monthlyPayments = TimeSeries(","    periods: months,","    values: Array(repeating: monthlyPayment, count: 12)",")","","let lease = Lease(","    payments: monthlyPayments,","    discountRate: 0.06  \/\/ Will be converted to monthly rate automatically",")"]},{"type":"heading","level":3,"text":"Residual Value Guarantees","anchor":"Residual-Value-Guarantees"},{"type":"codeListing","syntax":"swift","code":["let lease = Lease(","    payments: payments,","    discountRate: 0.07,","    residualValue: 20_000.0  \/\/ Guaranteed residual at end",")","","\/\/ Residual value increases lease liability","let liabilityWithResidual = lease.presentValue()"]},{"type":"heading","level":3,"text":"Leasehold Improvements","anchor":"Leasehold-Improvements"},{"type":"codeListing","syntax":"swift","code":["\/\/ ROU asset + leasehold improvements","let rouAsset = lease.rightOfUseAsset()","let improvements = 50_000.0","let totalAsset = rouAsset + improvements","","\/\/ Depreciate over shorter of lease term or improvement life"]},{"type":"heading","level":2,"text":"Next Steps","anchor":"Next-Steps"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Explore ","type":"text"},{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","isActive":true,"type":"reference"},{"type":"text","text":" for modeling debt obligations and capital structure"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn about "},{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","type":"reference","isActive":true},{"type":"text","text":" for integrating leases into complete financial statements"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Review "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/TimeValueOfMoney"},{"type":"text","text":" for understanding present value calculations"}]}]}]}],"kind":"content"}],"references":{"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RiskAnalyticsGuide":{"abstract":[{"type":"text","text":"Measure and manage risk with comprehensive analytics and scenario testing."}],"url":"\/documentation\/businessmath\/riskanalyticsguide","role":"article","kind":"article","title":"Risk Analytics and Stress Testing","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/InvestmentAnalysis":{"abstract":[{"type":"text","text":"Evaluate investment opportunities using NPV, IRR, and other financial metrics."}],"url":"\/documentation\/businessmath\/investmentanalysis","role":"article","kind":"article","title":"Investment Analysis","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingFinancialReports":{"abstract":[{"type":"text","text":"Create comprehensive financial reports with operational metrics, period summaries, and trend analysis."}],"url":"\/documentation\/businessmath\/buildingfinancialreports","role":"article","kind":"article","title":"Building Multi-Period Financial Reports","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/VisualizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","type":"topic","url":"\/documentation\/businessmath\/visualizationguide","title":"Command-Line Visualization","abstract":[{"type":"text","text":"Learn how to create visual representations of data directly in the terminal."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialRatiosGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","type":"topic","title":"Financial Ratios & Metrics","url":"\/documentation\/businessmath\/financialratiosguide","abstract":[{"type":"text","text":"Learn how to analyze financial performance using key ratios and metrics."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/ForecastingGuide":{"kind":"article","role":"article","title":"Time Series Forecasting","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide","abstract":[{"type":"text","text":"Predict future values using statistical forecasting methods with BusinessMath."}],"url":"\/documentation\/businessmath\/forecastingguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialStatementsGuide":{"kind":"article","role":"article","title":"Building Financial Statements","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","abstract":[{"type":"text","text":"Learn how to model complete financial statements including Income Statement, Balance Sheet, and Cash Flow Statement."}],"url":"\/documentation\/businessmath\/financialstatementsguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/EquityFinancingGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","type":"topic","title":"Equity Financing and Cap Table Modeling","kind":"article","url":"\/documentation\/businessmath\/equityfinancingguide","abstract":[{"type":"text","text":"Model startup financing rounds, cap tables, SAFEs, convertible notes, and liquidation scenarios."}],"role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/OptimizationGuide":{"kind":"article","role":"article","title":"Optimization and Numerical Solvers","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","abstract":[{"type":"text","text":"Learn how to find optimal values and solve equations using BusinessMath’s optimization toolkit."}],"url":"\/documentation\/businessmath\/optimizationguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingRevenueModel":{"kind":"article","role":"article","title":"Building a Revenue Forecasting Model","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","abstract":[{"type":"text","text":"Create a complete revenue forecast with trend analysis and seasonality."}],"url":"\/documentation\/businessmath\/buildingrevenuemodel","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/ScenarioAnalysisGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","type":"topic","title":"Scenario & Sensitivity Analysis","url":"\/documentation\/businessmath\/scenarioanalysisguide","abstract":[{"type":"text","text":"Learn how to model multiple scenarios and analyze which inputs have the greatest impact on your outcomes."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RealOptionsGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","type":"topic","url":"\/documentation\/businessmath\/realoptionsguide","title":"Real Options Valuation","abstract":[{"type":"text","text":"Value strategic flexibility and managerial decisions using option pricing theory."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/LoanAmortization":{"kind":"article","role":"article","title":"Loan Amortization Analysis","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","abstract":[{"type":"text","text":"Build a complete loan amortization schedule and analyze payment breakdowns."}],"url":"\/documentation\/businessmath\/loanamortization","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/PortfolioOptimizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","type":"topic","title":"Portfolio Optimization","url":"\/documentation\/businessmath\/portfoliooptimizationguide","abstract":[{"type":"text","text":"Build optimal investment portfolios using Modern Portfolio Theory and risk parity strategies."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath","type":"topic","title":"BusinessMath","url":"\/documentation\/businessmath","kind":"article","abstract":[{"text":"A comprehensive Swift library for business mathematics, time series analysis, and financial modeling.","type":"text"}],"role":"collection"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/TimeValueOfMoney":{"kind":"article","role":"article","title":"Time Value of Money","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/TimeValueOfMoney","abstract":[{"type":"text","text":"Calculate present value, future value, and investment returns for financial analysis."}],"url":"\/documentation\/businessmath\/timevalueofmoney","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/DebtAndFinancingGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","type":"topic","url":"\/documentation\/businessmath\/debtandfinancingguide","title":"Debt & Financing Models","abstract":[{"type":"text","text":"Learn how to model debt instruments, capital structure, equity financing, covenants, and lease accounting."}],"kind":"article","role":"article"}}}