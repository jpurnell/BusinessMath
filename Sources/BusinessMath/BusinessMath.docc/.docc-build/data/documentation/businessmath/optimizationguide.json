{"sections":[],"schemaVersion":{"major":0,"patch":0,"minor":3},"identifier":{"url":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/OptimizationGuide","interfaceLanguage":"swift"},"seeAlsoSections":[{"title":"Tutorials","identifiers":["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LeaseAccountingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"],"generated":true,"anchor":"Tutorials"}],"hierarchy":{"paths":[["doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath"]]},"abstract":[{"text":"Learn how to find optimal values and solve equations using BusinessMath’s optimization toolkit.","type":"text"}],"metadata":{"roleHeading":"Article","role":"article","title":"Optimization and Numerical Solvers"},"kind":"article","primaryContentSections":[{"content":[{"text":"Overview","type":"heading","level":2,"anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"BusinessMath provides powerful optimization algorithms for finding optimal solutions to business problems. Whether you need to maximize profits, minimize costs, or solve complex equations, these tools help you find the best answer."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This guide covers:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Finding zeros of functions with Newton-Raphson"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Maximizing or minimizing objectives with Gradient Descent","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Allocating limited capital across investment opportunities","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Solving real-world business optimization problems"}]}]}]},{"text":"Newton-Raphson: Goal Seek for Any Function","type":"heading","level":2,"anchor":"Newton-Raphson-Goal-Seek-for-Any-Function"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Newton-Raphson method finds values where a function equals a target (often zero). It’s like Excel’s Goal Seek but works with any mathematical function."}]},{"text":"Finding Break-Even Points","type":"heading","level":3,"anchor":"Finding-Break-Even-Points"},{"syntax":"swift","type":"codeListing","code":["import BusinessMath","","\/\/ Revenue function: R(price) = price × quantity(price)","\/\/ quantity(price) = 10000 - 50×price","\/\/ Cost = $50,000 fixed + $20 per unit","","func profit(price: Double) -> Double {","    let quantity = 10000 - 50 * price","    let revenue = price * quantity","    let cost = 50000 + 20 * quantity","    return revenue - cost","}","","let optimizer = NewtonRaphsonOptimizer<Double>()","","\/\/ Find price where profit = $100,000","let result = optimizer.optimize(","    objective: { profit(price: $0) - 100000 },","    initialValue: 200.0",")","","print(\"Optimal price: $\\(result.optimalValue)\")","print(\"Profit at that price: $\\(profit(price: result.optimalValue))\")"]},{"text":"Solving Yield to Maturity","type":"heading","level":3,"anchor":"Solving-Yield-to-Maturity"},{"syntax":"swift","type":"codeListing","code":["\/\/ Bond: $1000 face value, 5% coupon, 8 years, trading at $920","\/\/ Find yield to maturity","","func bondPriceError(yield: Double) -> Double {","    let coupon = 50.0  \/\/ $50 annual","    let faceValue = 1000.0","    let years = 8","    let marketPrice = 920.0","","    \/\/ Calculate PV of bond at this yield","    let pvCoupons = presentValueAnnuity(","        payment: coupon,","        rate: yield,","        periods: years,","        type: .ordinary","    )","    let pvFace = presentValue(","        futureValue: faceValue,","        rate: yield,","        periods: years","    )","","    let calculatedPrice = pvCoupons + pvFace","    return calculatedPrice - marketPrice","}","","let ytmResult = optimizer.optimize(","    objective: bondPriceError,","    initialValue: 0.06  \/\/ Start with 6% guess",")","","print(\"Yield to maturity: \\(ytmResult.optimalValue * 100)%\")"]},{"text":"Gradient Descent: Finding Optimal Values","type":"heading","level":2,"anchor":"Gradient-Descent-Finding-Optimal-Values"},{"type":"paragraph","inlineContent":[{"text":"Gradient Descent finds maximum or minimum values of functions. It’s perfect for optimization problems where you want the “best” solution.","type":"text"}]},{"text":"Maximizing Profit","type":"heading","level":3,"anchor":"Maximizing-Profit"},{"type":"codeListing","syntax":"swift","code":["\/\/ Profit function: revenue - costs","\/\/ Revenue = price × quantity, where quantity = f(price, marketing)","\/\/ Costs = fixed + variable","","func profitFunction(_ variables: [Double]) -> Double {","    let price = variables[0]","    let marketing = variables[1]","","    \/\/ Demand model: more marketing = more sales, but diminishing returns","    let baseDemand = 1000.0","    let priceElasticity = -2.0","    let marketingEffect = sqrt(marketing \/ 10000.0)","","    let quantity = baseDemand * pow(price \/ 100, priceElasticity) * (1 + marketingEffect)","    let revenue = price * quantity","","    let fixedCosts = 50000.0","    let variableCost = 30.0","    let costs = fixedCosts + variableCost * quantity + marketing","","    return revenue - costs","}","","let gradientOptimizer = GradientDescentOptimizer<Double>(","    learningRate: 0.01,","    maxIterations: 1000",")","","let profitResult = gradientOptimizer.optimize(","    objective: profitFunction,","    initialValues: [100.0, 20000.0]  \/\/ Start: $100 price, $20k marketing",")","","print(\"Optimal price: $\\(profitResult.optimalValues[0])\")","print(\"Optimal marketing spend: $\\(profitResult.optimalValues[1])\")","print(\"Maximum profit: $\\(profitResult.objectiveValue)\")"]},{"type":"heading","text":"Portfolio Allocation","anchor":"Portfolio-Allocation","level":3},{"type":"codeListing","syntax":"swift","code":["\/\/ Find optimal allocation weights to maximize Sharpe ratio","let returns: [[Double]] = [","    [0.08, 0.10, 0.12, 0.15, 0.09],  \/\/ Stock A monthly returns","    [0.05, 0.06, 0.04, 0.08, 0.05],  \/\/ Stock B","    [0.03, 0.04, 0.03, 0.03, 0.04]   \/\/ Bonds","]","","func portfolioSharpe(_ weights: [Double]) -> Double {","    \/\/ Calculate portfolio return and risk","    var portfolioReturns: [Double] = []","","    for month in 0..<5 {","        var monthReturn = 0.0","        for asset in 0..<3 {","            monthReturn += weights[asset] * returns[asset][month]","        }","        portfolioReturns.append(monthReturn)","    }","","    let avgReturn = mean(portfolioReturns)","    let stdDev = standardDeviation(portfolioReturns)","    let riskFreeRate = 0.02 \/ 12  \/\/ 2% annual = 0.167% monthly","","    return (avgReturn - riskFreeRate) \/ stdDev","}","","\/\/ Optimize with constraint: weights sum to 1","let allocationResult = gradientOptimizer.optimize(","    objective: portfolioSharpe,","    initialValues: [0.33, 0.33, 0.34]  \/\/ Start with equal weights",")","","print(\"Optimal allocation:\")","print(\"  Stock A: \\(allocationResult.optimalValues[0] * 100)%\")","print(\"  Stock B: \\(allocationResult.optimalValues[1] * 100)%\")","print(\"  Bonds: \\(allocationResult.optimalValues[2] * 100)%\")"]},{"type":"heading","text":"Capital Allocation: Investment Selection","anchor":"Capital-Allocation-Investment-Selection","level":2},{"type":"paragraph","inlineContent":[{"text":"When you have limited capital and multiple investment opportunities, capital allocation algorithms help you choose the best combination.","type":"text"}]},{"type":"heading","text":"Greedy Algorithm","anchor":"Greedy-Algorithm","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"The greedy approach selects projects in order of highest ROI until capital runs out."}]},{"type":"codeListing","syntax":"swift","code":["struct Project {","    let name: String","    let cost: Double","    let npv: Double","","    var profitabilityIndex: Double {","        npv \/ cost","    }","}","","let projects = [","    Project(name: \"Website Redesign\", cost: 50000, npv: 80000),","    Project(name: \"New Product Line\", cost: 200000, npv: 280000),","    Project(name: \"Marketing Campaign\", cost: 30000, npv: 45000),","    Project(name: \"Equipment Upgrade\", cost: 100000, npv: 135000),","    Project(name: \"Warehouse Expansion\", cost: 150000, npv: 195000)","]","","let allocation = CapitalAllocator.greedyAllocation(","    projects: projects,","    budget: 300000",")","","print(\"Selected projects:\")","for project in allocation.selectedProjects {","    print(\"  \\(project.name): Cost $\\(project.cost), NPV $\\(project.npv)\")","}","print(\"Total NPV: $\\(allocation.totalNPV)\")","print(\"Capital used: $\\(allocation.capitalUsed)\")"]},{"type":"heading","text":"Optimal Allocation","anchor":"Optimal-Allocation","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"For more complex scenarios, use integer programming to find the truly optimal combination."}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Same projects, but now we can select fractional investments","let optimalAllocation = CapitalAllocator.optimalAllocation(","    projects: projects,","    budget: 300000,","    allowFractional: false  \/\/ Integer programming: all or nothing",")","","print(\"\\nOptimal selection:\")","for project in optimalAllocation.selectedProjects {","    print(\"  \\(project.name): NPV $\\(project.npv)\")","}","print(\"Total NPV: $\\(optimalAllocation.totalNPV)\")"]},{"type":"heading","text":"Practical Tips","anchor":"Practical-Tips","level":2},{"type":"heading","text":"Choosing Initial Values","anchor":"Choosing-Initial-Values","level":3},{"type":"paragraph","inlineContent":[{"text":"Start with reasonable business assumptions:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ For prices: use market average","initialValue: 100.0","","\/\/ For percentages: use industry benchmarks","initialValue: 0.08  \/\/ 8% return","","\/\/ For quantities: use current volume","initialValue: 1000.0"]},{"type":"heading","text":"Setting Tolerances","anchor":"Setting-Tolerances","level":3},{"type":"paragraph","inlineContent":[{"text":"Balance precision with computation time:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ High precision (slower)","let optimizer = NewtonRaphsonOptimizer<Double>(","    tolerance: 0.0001,","    maxIterations: 100",")","","\/\/ Standard precision (faster)","let quickOptimizer = NewtonRaphsonOptimizer<Double>(","    tolerance: 0.01,","    maxIterations: 50",")"]},{"type":"heading","text":"Handling Convergence Issues","anchor":"Handling-Convergence-Issues","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"If optimization doesn’t converge:"}]},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Try different initial values"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Increase max iterations"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Check your objective function for discontinuities","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Normalize your inputs (scale to similar ranges)"}],"type":"paragraph"}]}]},{"anchor":"Next-Steps","level":2,"text":"Next Steps","type":"heading"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Explore "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide"},{"type":"text","text":" for predicting future values with optimized parameters"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Learn ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide"},{"text":" for Modern Portfolio Theory optimization","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"See ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide"},{"text":" for optimizing across multiple scenarios","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}],"kind":"content"}],"references":{"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/PortfolioOptimizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/PortfolioOptimizationGuide","type":"topic","title":"Portfolio Optimization","url":"\/documentation\/businessmath\/portfoliooptimizationguide","abstract":[{"type":"text","text":"Build optimal investment portfolios using Modern Portfolio Theory and risk parity strategies."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/LeaseAccountingGuide":{"kind":"article","role":"article","title":"Lease Accounting (IFRS 16 \/ ASC 842)","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LeaseAccountingGuide","abstract":[{"type":"text","text":"Model lease liabilities, right-of-use assets, and lease accounting under modern standards."}],"url":"\/documentation\/businessmath\/leaseaccountingguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/InvestmentAnalysis":{"abstract":[{"type":"text","text":"Evaluate investment opportunities using NPV, IRR, and other financial metrics."}],"url":"\/documentation\/businessmath\/investmentanalysis","role":"article","kind":"article","title":"Investment Analysis","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/InvestmentAnalysis"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/ForecastingGuide":{"kind":"article","role":"article","title":"Time Series Forecasting","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ForecastingGuide","abstract":[{"type":"text","text":"Predict future values using statistical forecasting methods with BusinessMath."}],"url":"\/documentation\/businessmath\/forecastingguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/EquityFinancingGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/EquityFinancingGuide","type":"topic","title":"Equity Financing and Cap Table Modeling","kind":"article","url":"\/documentation\/businessmath\/equityfinancingguide","abstract":[{"type":"text","text":"Model startup financing rounds, cap tables, SAFEs, convertible notes, and liquidation scenarios."}],"role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath","type":"topic","title":"BusinessMath","url":"\/documentation\/businessmath","kind":"article","abstract":[{"text":"A comprehensive Swift library for business mathematics, time series analysis, and financial modeling.","type":"text"}],"role":"collection"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingRevenueModel":{"kind":"article","role":"article","title":"Building a Revenue Forecasting Model","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingRevenueModel","abstract":[{"type":"text","text":"Create a complete revenue forecast with trend analysis and seasonality."}],"url":"\/documentation\/businessmath\/buildingrevenuemodel","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RealOptionsGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RealOptionsGuide","type":"topic","url":"\/documentation\/businessmath\/realoptionsguide","title":"Real Options Valuation","abstract":[{"type":"text","text":"Value strategic flexibility and managerial decisions using option pricing theory."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/BuildingFinancialReports":{"abstract":[{"type":"text","text":"Create comprehensive financial reports with operational metrics, period summaries, and trend analysis."}],"url":"\/documentation\/businessmath\/buildingfinancialreports","role":"article","kind":"article","title":"Building Multi-Period Financial Reports","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/BuildingFinancialReports"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/DebtAndFinancingGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/DebtAndFinancingGuide","type":"topic","url":"\/documentation\/businessmath\/debtandfinancingguide","title":"Debt & Financing Models","abstract":[{"type":"text","text":"Learn how to model debt instruments, capital structure, equity financing, covenants, and lease accounting."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/ScenarioAnalysisGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/ScenarioAnalysisGuide","type":"topic","title":"Scenario & Sensitivity Analysis","url":"\/documentation\/businessmath\/scenarioanalysisguide","abstract":[{"type":"text","text":"Learn how to model multiple scenarios and analyze which inputs have the greatest impact on your outcomes."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/VisualizationGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/VisualizationGuide","type":"topic","url":"\/documentation\/businessmath\/visualizationguide","title":"Command-Line Visualization","abstract":[{"type":"text","text":"Learn how to create visual representations of data directly in the terminal."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialRatiosGuide":{"identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialRatiosGuide","type":"topic","title":"Financial Ratios & Metrics","url":"\/documentation\/businessmath\/financialratiosguide","abstract":[{"type":"text","text":"Learn how to analyze financial performance using key ratios and metrics."}],"kind":"article","role":"article"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/FinancialStatementsGuide":{"kind":"article","role":"article","title":"Building Financial Statements","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/FinancialStatementsGuide","abstract":[{"type":"text","text":"Learn how to model complete financial statements including Income Statement, Balance Sheet, and Cash Flow Statement."}],"url":"\/documentation\/businessmath\/financialstatementsguide","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/LoanAmortization":{"kind":"article","role":"article","title":"Loan Amortization Analysis","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/LoanAmortization","abstract":[{"type":"text","text":"Build a complete loan amortization schedule and analyze payment breakdowns."}],"url":"\/documentation\/businessmath\/loanamortization","type":"topic"},"doc://com.jpurnell.BusinessMath/documentation/BusinessMath/RiskAnalyticsGuide":{"abstract":[{"type":"text","text":"Measure and manage risk with comprehensive analytics and scenario testing."}],"url":"\/documentation\/businessmath\/riskanalyticsguide","role":"article","kind":"article","title":"Risk Analytics and Stress Testing","type":"topic","identifier":"doc:\/\/com.jpurnell.BusinessMath\/documentation\/BusinessMath\/RiskAnalyticsGuide"}}}